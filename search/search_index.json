{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"blender-fbximporter","text":"<p>This addon is designed for creating Havok clothing data and simplifies the process of converting FBX scene files into Havok-compatible <code>.hkt</code> files. </p> <p>It makes it easier to set up clothing physics by providing an interface for exporting vertex sets, vertex groups (Float/Distance/Angle groups), collidable objects, and more. These can then be used in Havok's Filter Manager for further configuration and cloth simulation.</p> <p>Games where this tool is known to work are: - Elden Ring - Elden Ring Nightreign - Dark Souls 3 - Bloodborne</p> Note <p>Dark Souls II (SOTFS) and Sekiro may also work, but there are no confirmed working examples yet.</p>"},{"location":"#overview","title":"Overview","text":"<ul> <li>Start Here!</li> <li>Setup</li> <li>HowTo<ol> <li>Prepare your Armature</li> <li>Setup your simulation mesh</li> <li>Import your scene into Havok</li> <li>Configure the cloth simulation <ul> <li>Simple</li> <li>Thick (one mesh)</li> <li>Thick (two mesh)</li> </ul> </li> <li>Export Simulation Results</li> </ol> </li> <li>Troubleshooting</li> </ul>"},{"location":"#video-guides","title":"Video Guides","text":"<p>Currently there is only a quick workflow showing how to get a scene opened in filter manager. For further setup I reccomend watching the 3ds max guide. For the 3ds Max users, just skip the setup part and follow the steps from the second video instead.</p> <p>addon guide</p> <p>3ds max guide</p>"},{"location":"preface/","title":"Start here!","text":""},{"location":"preface/#requirements","title":"Requirements","text":"<p>Blender: Latest version from Steam (tested and recommended). You may try using older versions down to 2.93.0, but anything under 4.0.0 unsupported and may cause unknown issues.</p> <p>Visual Studio 2012 Redistributable (Update 4): Download from the official Microsoft page: Visual Studio 2012 VC++ Redistributable</p>"},{"location":"preface/#essention-tools","title":"Essention Tools","text":"<ul> <li>Addon Itself</li> <li>Resources</li> <li>WitchyBND, keep in mind that latest version still doesn't work with bloodborne tpf files so use that one in the meanwhile WitchyBND</li> <li>FbxImporter</li> <li>FLVER_Editor</li> <li>DS3HavokConverter</li> <li>Discord Soulsmodding Serv With Some Tools ?ServerName?</li> <li>hkxpackbb</li> <li>hkxpack</li> <li>Aqua Toolset</li> </ul>"},{"location":"setup/","title":"Setup","text":""},{"location":"setup/#installation","title":"Installation","text":"<p>TODO</p>"},{"location":"setup/#configuration","title":"Configuration","text":""},{"location":"setup/#step-1-install-havok","title":"Step 1: Install Havok","text":"<ol> <li>Install Havok from the Resources link.</li> <li>Run the executable file to start the installation process. During the installation, save the installation path somewhere for future reference.</li> <li>After the installation, navigate to the folder <code>havok_contectool\\New DLL</code> in the Resources folder and copy the two <code>.dll</code> files.</li> <li>Go to the previously saved Havok installation path and locate the directory:    <code>Havok\\HavokContentTools\\filters</code></li> <li>Paste the copied <code>.dll</code> files into this folder and replace the existing files when prompted.</li> </ol>"},{"location":"setup/#step-2-configure-the-tool","title":"Step 2: Configure the Tool","text":"<p>Once Havok is installed, you can proceed to configure the tool and its core features.</p> <p>After installing the addon, you will see a new tab in the right-hand sidebar (press <code>N</code> if it doesn\u2019t show up) called UV Tools. Once you open it, you will see the following two fields:</p> <p></p>"},{"location":"setup/#standalone-filter-manager-path","title":"Standalone Filter Manager Path","text":"<p>The path you saved earlier during the Havok installation is required here. In the Standalone Filter Manager Path field, select the file <code>hctStandAloneFilterManager.exe</code> located inside the folder: <code>Havok\\HavokContentTools</code></p>"},{"location":"setup/#export-path","title":"Export Path","text":"<p>This is an optional directory where all your project files will be stored. If you don\u2019t specify an export path, the addon will automatically create an <code>export_data</code> folder next to your current Blender project file. Throughout this guide, this folder will be referred to as <code>&lt;export&gt;</code>.</p> Warning <p>Your Blender project must be saved somewhere on disk in order for the addon to save setup files and addon functionality.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>Below are some common issues you may encounter during the process and how to resolve them.</p>"},{"location":"troubleshooting/#1-export-doesnt-execute","title":"1. Export Doesn\u2019t Execute","text":"<ul> <li> <p>Transformations not applied:   If the export does not execute correctly, this is often caused by unapplied transformations. The addon automatically applies transformations, but 12thAvenger\u2019s tool does not.   To avoid mismatches, in Blender select all display meshes that will be included in the FLVER along with the armature, then go to:   Object \u2192 Apply \u2192 All Transformations.   After that, re-import the model into FLVER and repeat the export process.</p> </li> <li> <p>Incorrect Havok Installation   If Havok is installed incorrectly, you may:</p> <ul> <li>Not see the Cloth option at all</li> <li>See the Cloth option highlighted in red</li> <li>See a warning similar to the image below</li> </ul> <p>If any of these occur, Havok was installed incorrectly or a step was missed. Return to the setup guide and carefully repeat the installation steps.</p> </li> </ul>"},{"location":"troubleshooting/#_1","title":"Troubleshooting","text":""},{"location":"troubleshooting/#2-cloth-is-weirdly-deformed","title":"2. Cloth Is Weirdly Deformed","text":"<ul> <li>Non-normalized weight painting:   If the cloth mesh appears distorted or deformed in-game, the weight paint is likely not normalized. To fix this, check all display meshes and proxy models. Enter Weight Paint Mode, then use:   Weight \u2192 Normalize All.   Afterward, re-export the scene, re-import everything into FLVER, and re-export the cloth.</li> </ul>"},{"location":"troubleshooting/#3-vertices-are-flying-into-space","title":"3. Vertices Are Flying Into Space","text":"<ul> <li> <p>Non-normalized weight painting:   If the mesh stretches or explodes in-game, the weight paint may not be normalized. This issue is usually easy to fix. Verify all display meshes and proxy models, enter Weight Paint Mode, and select:   Weight \u2192 Normalize All.   Then re-export the scene, re-import the display model into FLVER, and re-export the cloth.</p> </li> <li> <p>Missing weight painting:   If parts of the mesh have no weight paint at all, normalization will not fix the issue. Vertices without any bone influence can fly off or behave unpredictably in-game.   In this case, you must manually assign proper weights to the affected vertices. If you are not familiar with weight painting or rigging, it is strongly recommended to watch some basic 3D modeling and rigging tutorials before continuing.</p> </li> <li> <p>Incorrect mesh order in FLVER:   If the mesh was imported in an unusual or incorrect order, this can also cause the issue. Go back to the save result step and repeat the process from there.</p> </li> </ul> <p>If you encounter any other issues not covered in this guide, feel free to contact me on the Discord server. My username is Tlarok.</p>"},{"location":"howto/armature/","title":"HowTo: Mesh &amp; Armature Setup","text":"<p>First, you need an armature/skeleton that the mesh is already rigged to, along with a FLVER file that uses the same armature.</p> <p>For FromSoft player characters, it's recommended to extract the skeleton from <code>fc_m_0000.partsbnd.dcx</code>. Since FLVER files cannot be imported directly without external tools or addons, user suggested using the Aqua Toolset to export the model as an FBX, which can then be imported into Blender.</p> Warning <p>FromSoftware armatures are typically named <code>Master</code>. Make sure the armature in your Blender scene is renamed to <code>Master</code>, or the created physics will not work correctly.</p> <p>Next, prepare the mesh you are creating physics or clothing for. It must be rigged to the same armature. Also mesh must be triangular, otherwise mesh will have missmatch with model you will later import in flver.</p> <ul> <li>Enable Auto Normalize in Blender in weight painting mode in settings in the right</li> </ul> <p></p> <ul> <li>Or after finishing weight painting, go to Weight Paint Mode \u2192 Weights \u2192 Normalize All</li> </ul> <p></p> <p>There is also an option to use a proxy/simulation mesh (a simplified version of your model) for physics simulation and transfer its motion to the main mesh. This is useful if:</p> <ul> <li>Your model is very high-poly</li> <li>The mesh does not deform well during simulation</li> </ul> Note <p>The deformed mesh will inherit the proxy/simulation mesh\u2019s weight painting.</p>"},{"location":"howto/mesh_export/","title":"Exporting your mesh","text":"<p>Once everything is set up, export the scene by pressing:</p> <p><code>Export FBX And Run Importer</code></p> <p>This will export the scene and automatically launch the Havok Filter Manager with your data loaded.</p> <p>For the specific setup required, you can get it from here.</p> <p>Once the setup is loaded, the configuration will change, and you should see the following options:</p> <ul> <li>Create Tangents</li> <li>Create Skeleton</li> <li>Create Cloth Collidables</li> <li>Setup Cloth</li> <li>Execute Cloth Setup (Ds3)</li> <li>Prune Types</li> <li>Write to Platform</li> </ul> <p></p>"},{"location":"howto/mesh_export/#step-by-step-setup","title":"Step-by-step Setup","text":"<ol> <li> <p>Choose <code>Setup Cloth</code>    In the new window on the right, click <code>Launch Cloth Setup Tool</code>. Ensure that <code>Cloth Setup Tool Mode</code> is set to <code>Standalone</code>. <code>Modal</code> technically works but is not recommended.</p> </li> <li> <p>Cloth Setup Tool    When the Cloth Setup Tool opens, you will see an empty cloth entity. You can delete this entity. Next, click on the <code>Script</code> tab at the top, and select <code>Wizard Browser...</code>. This will pop up a window with different cloth simulation types. While you can create most of them manually, this guide will cover only the following types:</p> </li> <li> <p>Simple</p> </li> <li>Thick Single Mesh</li> <li>Two Mesh Simulation</li> </ol> <p></p> <p></p>"},{"location":"howto/mesh_setup/","title":"Setting up your mesh for cloth simulation","text":"<p>Havok uses vertex-based cloth simulation, which is what this workflow supports. The simulation is physically accurate, but for performance reasons self-collision is not supported.</p>"},{"location":"howto/mesh_setup/#selection-sets-uv-indices","title":"Selection Sets / UV Indices","text":"<p>These are vertex selections used to define different behavior zones. Common usage includes:</p> <ul> <li>Simulated vertices</li> <li>Fixed vertices</li> <li>Display-only vertices</li> <li>Collision or other constraint groups</li> </ul> <p>To create them:</p> <ol> <li>Select the mesh</li> <li>Enter Edit Mode</li> <li>Select the desired vertices</li> <li>Fill in the Section Name</li> <li>Press Save UV Indices</li> </ol> <p></p> <p>This will create an entry in:</p> <ul> <li><code>blend_path/export_data/selectionsets/uv_indices.json</code>, or</li> <li><code>optional_export_path/selectionsets/uv_indices.json</code></li> </ul>"},{"location":"howto/mesh_setup/#vertex-selection-groups","title":"Vertex Selection Groups","text":"<p>Vertex groups are float-based selections used when non-uniform values are required.</p> <p>To export a vertex group:</p> <ul> <li>Create a vertex group on the mesh</li> <li>Set Min Export Value and Max Export Value</li> <li>Select the Weight Group to export</li> <li>Choose a Weight Type</li> </ul> <p>Available weight types:</p> <ul> <li>Distance   Used for distance constraints or collision radii.</li> <li>Float   Used for modifiers.</li> <li> <p>Angle   Used for angle-based modifiers.</p> </li> <li> <p>Press a Export Vertex Group(UV Oder)</p> </li> </ul> <p></p> <p>The data will be saved to:</p> <ul> <li><code>blend_path/export_data/floatchannels/weight_groups.json</code>, or</li> <li><code>optional_export_path/floatchannels/weight_groups.json</code></li> </ul>"},{"location":"howto/mesh_setup/#collidables","title":"Collidables","text":"<p>Because cloth meshes move dynamically, precise control over their position is difficult. Collidable shapes are used to restrict or guide movement. The following collidable shapes are available:</p> <ul> <li>Capsule</li> <li>Sphere</li> <li>Plane</li> <li>Convex Geometry</li> <li>Convex Heightfield</li> </ul> <p></p>"},{"location":"howto/mesh_setup/#notes-on-collidables","title":"Notes on Collidables","text":"<ul> <li>Collidable objects use the prefix <code>collision_&lt;type&gt;</code> so the addon can identify and skip them during processing.</li> <li>They often include a bone name prefix to assign the collidable to a specific bone.</li> <li>Collidables do not need to be parented to the armature and should remain disconnected.</li> </ul>"},{"location":"howto/mesh_setup/#creating-and-assigning-collidables","title":"Creating and Assigning Collidables","text":"<ul> <li>Select a mesh or collidable object shape type you want to change</li> <li>Choose a Collision Type</li> <li>Assign a bone using the Bone Selector (if needed)</li> <li>Press Set Collision to convert the mesh into the selected collision shape</li> </ul> <p>If the object is already a collidable, it will be updated except a Bone Selector if already set.</p> <p>When selecting an armature, a Place Collidable button appears:</p> <ul> <li>Select one bone in Edit/Pose mode \u2192 create a sphere</li> <li>Select two bones in Edit/Pose mode \u2192 create a capsule</li> </ul> <p></p> <p></p>"},{"location":"howto/mesh_setup/#capsule-resizing","title":"Capsule Resizing","text":"<p>When a capsule collidable mesh is selected, additional resize options will appear.</p> <p>Capsules can be resized using the following control points:</p> <ul> <li>Bottom</li> <li>Middle</li> <li>Top</li> </ul> <p>To resize the capsule:</p> <ol> <li>Toggle the desired controls (<code>Bottom</code>, <code>Middle</code>, and/or <code>Top</code>)</li> <li>Press Resize Capsule to apply the changes</li> </ol> <p></p> <p>If the capsule's size choses is uneven, the collidable effectively becomes a Tapered Capsule.</p> Note <p>Tapered Capsules are not supported by the addon. For proper functionality, it is recommended to convert the collidable to Convex Geometry.</p>"},{"location":"howto/save_result/","title":"Adding the simulation results to your game","text":"<p>At the top of the window, you will see a monitor icon. Click on it to preview your cloth simulation and check if everything was set up correctly. If changes are needed, you can go back and adjust the settings.</p>"},{"location":"howto/save_result/#exporting-clothing","title":"Exporting Clothing","text":"<p>Now you can press Ctrl + S to save your setup and close the window to move on to the Filter Manager.</p> <p>Next, you need to import your mesh into FLVER with the correct buffer exposed to Havok in order to ensure that the cloth will apply correctly in the game. For this, you can use the 12thAvenger's tool, FbxImporter.</p> <p>Important: Always import meshes in the correct order to avoid issues. If you reimport meshes into an already created FLVER, there could be problems due to incorrect ordering.</p>"},{"location":"howto/save_result/#import-meshes-in-the-correct-order","title":"Import Meshes in the Correct Order:","text":"<ol> <li> <p>First All Clothing Meshes Materials:</p> </li> <li> <p>Bloodborne: <code>p[arsn]_cloth.mtd</code></p> </li> <li>Dark Souls 3: <code>c[arsn]_cloth.mtd</code></li> <li> <p>Elden Ring and Elden Ring Nightreign: <code>c[amsn]_cloth.matxml</code></p> </li> <li> <p>Non Clothing Meshes Materials:</p> </li> <li>Bloodborne: <code>p[arsn].mtd</code></li> <li>Dark Souls 3: <code>c[arsn].mtd</code></li> <li>Elden Ring and Elden Ring Nightreign: <code>c[amsn].matxml</code></li> </ol> <p>Note: The FLVER file must come from the specific game you're working with. Using a FLVER from a different game type will not work.</p> <p>Once your model is properly imported, you can move on to exporting the clothing file.</p>"},{"location":"howto/save_result/#exporting-the-clothing-file","title":"Exporting the Clothing File","text":"<ol> <li>Go to Execute Cloth Setup in the Filter Manager.</li> <li>If the field is empty, type anything in it to enable the ... button, allowing you to select the FLVER file you imported the model into.</li> <li>After selecting the FLVER file, go to Write to Platform.</li> </ol>"},{"location":"howto/save_result/#write-to-platform","title":"Write to Platform","text":"<p>Here, the process differs between games:</p> <ul> <li> <p>For Elden Ring and Elden Ring Nightreign:</p> </li> <li> <p>Set the Format to MSVC x64, XBoxOne, Switch64_win.</p> </li> <li>After that, press Run Configuration.</li> <li> <p>Keep in mind to export the file into the same folder as the scene (i.e., the <code>export_data</code> folder) as Havok can have issues if placed elsewhere.</p> </li> <li> <p>For Bloodborne and Dark Souls 3:</p> </li> <li> <p>In Filter Manager, under Execute Cloth Setup, type anything in the field to enable the ... button to select the FLVER file.</p> </li> <li>Set Format to XML and export it to the same folder as the scene (the <code>export_data</code> folder).</li> <li>Use the 12thAvenger's tool DS3HavokConverter to convert the XML into Havok 2014 XML format (since Bloodborne and Dark Souls 3 use Havok 2014, and newer versions won\u2019t work).</li> </ul> <p>After that, you\u2019ll need to convert the XML into binary/hkx format using hkxpack, which can be found on the Discord server (?ServerName?).</p> <p>There are two versions of hkxpack:</p> <ul> <li>For Dark Souls 3: hkxpack</li> <li>For Bloodborne: hkxpackbb</li> </ul> <p>After running the XML through the tool, you'll get the required hkx clothing file.</p>"},{"location":"howto/save_result/#continue-with-the-process-for-all-games","title":"Continue with the Process for All Games","text":"<p>Once you have the hkx file ready, you need to obtain the DCX model file containing the clothing. You can then copy the CLM2 file and the file IDs into the <code>_witchy-bnd4.xml</code> for your DCX file. This could be an armor or any other item that contains the hkx and CLM2 file, as the CLM2 is essential for the physics to work in the game.</p>"},{"location":"howto/save_result/#packing-the-dcx","title":"Packing the DCX","text":"<p>Once you've packed everything into the DCX, go ahead and test the physics in the game to make sure everything works correctly.</p>"},{"location":"howto/sim_simple/","title":"Simple Clothing Simulation","text":"<p>This clothing type uses a set mesh for simulation and its own vertices for cloth simulation. When you select it, a window will appear with the following options:</p> <ul> <li>Mesh: The mesh you want to simulate.</li> <li>Skeleton: The skeleton mesh that the clothing is rigged to.</li> </ul>"},{"location":"howto/sim_simple/#simulation-options","title":"Simulation Options:","text":"<ul> <li> <p>Simulation Verts: You can select the vertices to simulate.</p> </li> <li> <p>Fixed Particles: These are parts that are restricted from movement to prevent the mesh from flying away. A warning will appear if you don\u2019t include all necessary fixed particles, but it will still work. It is not recommended to skip this.</p> </li> <li> <p>Both above include:</p> </li> <li> <p><code>&lt;ALL&gt;</code></p> </li> <li><code>&lt;NONE&gt;</code></li> <li> <p>Or custom selection groups you made beforehand.</p> </li> <li> <p>Max Distance: This constraint limits the distance the vertices can move. You can also use the vertex group export with the distance type.</p> </li> <li> <p>Add Stretch Links: If enabled, this will add additional Stretch Link constraints to counteract stretching caused by gravity.</p> </li> </ul> <p>After selecting the desired values, press OK. This will create a basic cloth setup that you can adjust.</p>"},{"location":"howto/sim_simple/#configuring-the-cloth-simulation","title":"Configuring the Cloth Simulation","text":"<ol> <li> <p>Rename <code>Simulate</code> to <code>#01#</code>    If you're working with Elden Ring or Elden Ring Nightreign, right-click on States, and select New to create a new state. Rename it to <code>#00#</code>.</p> </li> <li> <p>Adjust Skin Settings    Go to Operator and select <code>mesh_name + ' SkinOp'</code>. In the right window, uncheck the <code>Tangents</code> and <code>Bitangents</code> checkboxes next to the Skin section.</p> </li> <li> <p>Rename the Transform Set    Under Transform Sets, click Master TransformSet and rename <code>Master TransformSet</code> to Master. If the skeleton name is not Master TransformSet, go to Blender and rename the armature to Master, then re-export the scene over again.</p> </li> <li> <p>Set Gravity and Damping    In the Sim Cloths section, under the mesh name <code>SimCloth</code>, go to Simulation Properties. Change Gravity to the desired value (usually negative Y/Middle), and increase Damping (default is 0.001). Damping affects the speed of the simulation, with values closer to 1 making it faster.</p> </li> <li> <p>Adjust Constraints    Under Constraints Options inside SimCloth, you\u2019ll find the Mass setting, which controls the strength of constraints, the bigger it is the less constraints effect simulation. Set it to 0.33 (or higher depending on preference). You will also see the following constraints already included:</p> </li> <li> <p>Standard Links: Links that connect adjacent particles and maintain their relative distance.</p> </li> <li>Stretch Links: Specialized links to counteract stretching.</li> <li>Local Range Constraints: Limits the movement of particles to a defined area.</li> </ol> <p>You may want to add optional constraints such as:</p> <ul> <li>Bend Stiffness Constraints: Prevents the cloth from folding.</li> <li>Volume Constraints: Attempts to preserve the original shape of the cloth.</li> <li> <p>Transition Constraints: Smooths the transition between animated and simulated positions.</p> </li> <li> <p>Add Constraints    Add Bend Stiffness to prevent cloth from self-colliding. For Elden Ring or Elden Ring Nightreign, also add Transition Constraints.</p> </li> <li> <p>Adjust Bend Stiffness    Set the Bend Stiffness to a value between 1 and 0.0001, depending on how stiff or flexible you want the cloth to be.</p> </li> <li> <p>Set Collision Options    Under Simulation Cloth &gt; Collision Options, set the Radius (recommended values: 0.02 or 0.01) and keep the Friction at default, or adjust as needed.</p> </li> <li> <p>Add Collidables    If the collidables are not showing up, click the right file icon, select the desired collidables, and indicate which vertices the mesh will collide with if needed.</p> </li> <li> <p>Set Particle-Force Interaction     In the Advanced Option section of Simulation Cloth, set the Total Mass to 10 (this controls how easily the mesh will be moved by world wind).</p> </li> </ul>"},{"location":"howto/sim_simple/#finalizing-the-simulation","title":"Finalizing the Simulation","text":"<ol> <li> <p>Simulation    Go back to Operators, open Simulate, and click Simulate. Under Constraint Execution (Advanced), select Smart Iterate and adjust the complexity based on mesh complexity:</p> </li> <li> <p>1 for low-poly meshes</p> </li> <li>3 for higher poly meshes</li> <li> <p>Use Thick Clothing (2 meshes) for very high-poly meshes.</p> </li> <li> <p>Create Skin Transition    For Elden Ring or Elden Ring Nightreign (or newer versions), go to the Scripts tab and select Wizard Browser.... Then choose Create Skin Transition. In the new pop-up, select the mesh, choose Simulated State (usually <code>#01#</code>), and press Create Skin Transitions.</p> </li> <li> <p>Disable Tangents and Bitangents    After the skin transition is created, go back to Operators, select [skin], and in SkinOp, disable the Tangents and Bitangents checkboxes.</p> </li> </ol>"},{"location":"howto/sim_simple/#next-step","title":"Next step","text":"<ul> <li>Export Results</li> </ul>"},{"location":"howto/sim_thick_one_mesh/","title":"Thick Simple Clothing Simulation (One Mesh)","text":"<p>This clothing type uses a set mesh for simulation, where the vertices selected for deformation will be influenced by the simulated particles of the same mesh. When you select this option, a window will appear with the following options:</p> <ul> <li>Mesh: The mesh you want to simulate.</li> <li>Skeleton: The skeleton mesh that the clothing is rigged to.</li> </ul>"},{"location":"howto/sim_thick_one_mesh/#simulation-options","title":"Simulation Options:","text":"<ul> <li> <p>Simulation Verts: Select the vertices to simulate.</p> </li> <li> <p>Deformed Verts: Select the vertices to deform.</p> </li> <li> <p>Fixed Particles: These are parts that are restricted from movement to prevent the mesh from flying away. A warning will appear if you don\u2019t include all necessary fixed particles, but it will still work. It is not recommended to skip this.</p> </li> <li> <p>All of the above include:</p> </li> <li> <p><code>&lt;ALL&gt;</code></p> </li> <li><code>&lt;NONE&gt;</code></li> <li> <p>Or custom selection groups you made beforehand.</p> </li> <li> <p>Max Distance: This constraint limits the distance the simulated vertices can move. You can also use the vertex group export with the distance type.</p> </li> <li> <p>Add Stretch Links: If enabled, this will add additional Stretch Link constraints to counteract stretching caused by gravity.</p> </li> </ul> <p>After selecting the desired values, press OK. This will create a basic cloth setup that you can adjust.</p>"},{"location":"howto/sim_thick_one_mesh/#configuring-the-cloth-simulation","title":"Configuring the Cloth Simulation","text":"<ol> <li> <p>Rename <code>Simulate</code> to <code>#01#</code>    If you're working with Elden Ring or Elden Ring Nightreign, right-click on States, and select New to create a new state. Rename it to <code>#00#</code>.</p> </li> <li> <p>Adjust Skin Settings    Go to Operator and select <code>Skin</code>. In the right window, uncheck the <code>Tangents</code> and <code>Bitangents</code> checkboxes next to the Skin section. Apply the same process to the <code>Deform Display Mesh</code>.</p> </li> <li> <p>Rename the Transform Set    Under Transform Sets, click Master TransformSet and rename <code>Master TransformSet</code> to Master. If the skeleton name is not Master TransformSet, go to Blender and rename the armature to Master, then re-export the scene.</p> </li> <li> <p>Set Gravity and Damping    In the Sim Cloths section, under the mesh name <code>SimCloth</code>, go to Simulation Properties. Change Gravity to the desired value (usually negative Y/Middle), and increase Damping (default is 0.001). Damping affects the speed of the simulation, with values closer to 1 making it faster.</p> </li> <li> <p>Adjust Constraints    Under Constraints Options inside SimCloth, you\u2019ll find the Mass setting, which controls the strength of constraints. The higher the value, the less effect constraints have on the simulation. Set it to 0.33 (or higher depending on preference). The default constraints already included are:</p> </li> <li> <p>Standard Links: Links that connect adjacent particles and maintain their relative distance.</p> </li> <li>Stretch Links: Specialized links to counteract stretching.</li> <li>Local Range Constraints: Limits the movement of particles to a defined area.</li> </ol> <p>You may want to add optional constraints such as:</p> <ul> <li>Bend Stiffness Constraints: Prevents the cloth from folding.</li> <li>Volume Constraints: Attempts to preserve the original shape of the cloth.</li> <li> <p>Transition Constraints: Smooths the transition between animated and simulated positions.</p> </li> <li> <p>Add Constraints    Add Bend Stiffness to prevent cloth from self-colliding. For Elden Ring or Elden Ring Nightreign, also add Transition Constraints.</p> </li> <li> <p>Adjust Bend Stiffness    Set the Bend Stiffness to a value between 1 and 0.0001, depending on how stiff or flexible you want the cloth to be.</p> </li> <li> <p>Set Collision Options    Under Simulation Cloth &gt; Collision Options, set the Radius (recommended values: 0.02 or 0.01) and keep the Friction at default, or adjust as needed.</p> </li> <li> <p>Add Collidables    If the collidables are not showing up, click the right file icon, select the desired collidables, and indicate which vertices the mesh will collide with if needed.</p> </li> <li> <p>Set Particle-Force Interaction     In the Advanced Option section of Simulation Cloth, set the Total Mass to 10 (this controls how easily the mesh will be moved by world wind).</p> </li> </ul>"},{"location":"howto/sim_thick_one_mesh/#finalizing-the-simulation","title":"Finalizing the Simulation","text":"<ol> <li> <p>Simulation    Go back to Operators, open Simulate, and click Simulate. Under Constraint Execution (Advanced), select Smart Iterate and adjust the complexity based on mesh complexity:</p> </li> <li> <p>1 for low-poly meshes</p> </li> <li>3 for higher poly meshes</li> <li> <p>Use Thick Clothing (2 meshes) for very high-poly meshes.</p> </li> <li> <p>Create Skin Transition    For Elden Ring or Elden Ring Nightreign (or newer versions), go to the Scripts tab and select Wizard Browser.... Then choose Create Skin Transition. In the new pop-up, select the mesh, choose Simulated State (usually <code>#01#</code>), and press Create Skin Transitions.</p> </li> <li> <p>Disable Tangents and Bitangents    After the skin transition is created, go back to Operators, select [skin], and in SkinOp, disable the Tangents and Bitangents checkboxes.</p> </li> </ol>"},{"location":"howto/sim_thick_one_mesh/#next-step","title":"Next step","text":"<ul> <li>Export Results</li> </ul>"},{"location":"howto/sim_thick_two_mesh/","title":"Thick Simple Clothing Simulation (Two Mesh)","text":"<p>This clothing type uses a set of 2 meshes for simulation, where one is used for simulation and the another is used for deforming by the first. A window will appear with the following options:</p> <ul> <li>Display Mesh: The mesh you want to deform.</li> <li>Deform Verts: Select the vertices to deform.</li> <li>Simulate Mesh: The mesh you want to simulate.</li> <li>Simulation Verts: Select the vertices to simulate.</li> <li>Skeleton: The skeleton mesh that the clothing is rigged to.</li> </ul>"},{"location":"howto/sim_thick_two_mesh/#simulation-options","title":"Simulation Options:","text":"<ul> <li>Fixed Particles: These are parts that are restricted from movement to prevent the mesh from flying away. A warning will appear if you don\u2019t include all necessary fixed particles, but it will still work. It is not recommended to skip this.</li> <li>All of the Verts above include:</li> <li><code>&lt;ALL&gt;</code></li> <li><code>&lt;NONE&gt;</code></li> <li>Or custom selection groups you made beforehand.</li> <li>Max Distance: This constraint limits the distance the simulated vertices can move. You can also use the vertex group export with the distance type.</li> <li>Add Stretch Links: If enabled, this will add additional Stretch Link constraints to counteract stretching caused by gravity.</li> </ul> <p>After selecting the desired values, press OK. This will create a basic cloth setup that you can adjust.</p>"},{"location":"howto/sim_thick_two_mesh/#configuring-the-cloth-simulation","title":"Configuring the Cloth Simulation","text":"<ol> <li> <p>Rename <code>Simulate</code> to <code>#01#</code>    If you're working with Elden Ring or Elden Ring Nightreign, right-click on States, and select New to create a new state. Rename it to <code>#00#</code>.</p> </li> <li> <p>Adjust Skin Settings    Go to Operator and select <code>Skin</code>. In the right window, uncheck the <code>Tangents</code> and <code>Bitangents</code> checkboxes next to the Skin section. Apply the same process to the <code>Deform Display Mesh</code>.</p> </li> <li> <p>Rename the Transform Set    Under Transform Sets, click Master TransformSet and rename <code>Master TransformSet</code> to Master. If the skeleton name is not Master TransformSet, go to Blender and rename the armature to Master, then re-export the scene.</p> </li> <li> <p>Set Gravity and Damping    In the Sim Cloths section, under the mesh name <code>SimCloth</code>, go to Simulation Properties. Change Gravity to the desired value (usually negative Y/Middle), and increase Damping (default is 0.001). Damping affects the speed of the simulation, with values closer to 1 making it faster.</p> </li> <li> <p>Adjust Constraints    Under Constraints Options inside SimCloth, you\u2019ll find the Mass setting, which controls the strength of constraints. The higher the value, the less effect constraints have on the simulation. Set it to 0.33 (or higher depending on preference). The default constraints already included are:</p> </li> <li>Standard Links: Links that connect adjacent particles and maintain their relative distance.</li> <li>Stretch Links: Specialized links to counteract stretching.</li> <li>Local Range Constraints: Limits the movement of particles to a defined area.</li> </ol> <p>You may want to add optional constraints such as:    - Bend Stiffness Constraints: Prevents the cloth from folding.    - Volume Constraints: Attempts to preserve the original shape of the cloth.    - Transition Constraints: Smooths the transition between animated and simulated positions.</p> <ol> <li> <p>Add Constraints    Add Bend Stiffness to prevent cloth from self-colliding. For Elden Ring or Elden Ring Nightreign, also add Transition Constraints.</p> </li> <li> <p>Adjust Bend Stiffness    Set the Bend Stiffness to a value between 1 and 0.0001, depending on how stiff or flexible you want the cloth to be.</p> </li> <li> <p>Set Collision Options    Under Simulation Cloth &gt; Collision Options, set the Radius (recommended values: 0.02 or 0.01) and keep the Friction at default, or adjust as needed.</p> </li> <li> <p>Add Collidables    If the collidables are not showing up, click the right file icon, select the desired collidables, and indicate which vertices the mesh will collide with if needed.</p> </li> <li> <p>Set Particle-Force Interaction     In the Advanced Option section of Simulation Cloth, set the Total Mass to 10 (this controls how easily the mesh will be moved by world wind).</p> </li> </ol>"},{"location":"howto/sim_thick_two_mesh/#finalizing-the-simulation","title":"Finalizing the Simulation","text":"<ol> <li>Simulation    Go back to Operators, open Simulate, and click Simulate. Under Constraint Execution (Advanced), select Smart Iterate and adjust the complexity based on mesh complexity:</li> <li>1 for low-poly meshes</li> <li>3 for higher poly meshes</li> <li> <p>Use Thick Clothing (2 meshes) for very high-poly meshes.</p> </li> <li> <p>Create Skin Transition    For Elden Ring or Elden Ring Nightreign (or newer versions), go to the Scripts tab and select Wizard Browser.... Then choose Create Skin Transition. In the new pop-up, select the mesh, choose Simulated State (usually <code>#01#</code>), and press Create Skin Transitions.</p> </li> </ol>"},{"location":"howto/sim_thick_two_mesh/#next-step","title":"Next step","text":"<ul> <li>Export Results</li> </ul>"}]}